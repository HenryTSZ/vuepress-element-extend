---
title: 自定义指令
date: 2022-05-01 22:33:23
permalink: /1bf085/
---

## 自定义指令

```
自定义指令总结：
  一、定义语法：
    (1).局部指令：
      new Vue({
        directives:{指令名：配置对象} 或 directives{指令名：回调函数}
      })
    (2).全局指令：
      Vue.directive(指令名，配置对象) 或 Vue.directive(指令名，回调函数)

  二、配置对象中常用的 3 个回调：
    (1).bind(element, binding)：指令与元素成功绑定时调用。
    (2).inserted(element, binding)：指令所在元素被插入页面时调用。
    (3).update(element, binding)：指令所在模板结构被重新解析时调用。
    element 就是 DOM 元素，binding 就是要绑定的对象，它包含以下属性：name value oldValue expression arg modifiers

  三、备注：
    1.指令定义时不加 v-，但使用时要加 v-；
    2.指令名如果是多个单词，要使用 kebab-case 命名方式，不要用 camelCase 命名。
```

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/18-1.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/18-1.html

:::

## 回顾一个DOM操作

<body>
  <button id="btn">点我创建一个输入框</button>
  <div id="box"></div>
  <script type="text/javascript">
    const btn = document.getElementById('btn')
    btn.onclick = () => {
      const input = document.createElement('input')
      input.className = 'demo'
      input.value = 99
      input.onclick = () => { alert(1) }
      document.getElementById('box').appendChild(input)
      input.focus()
      // input.parentElement.style.backgroundColor = 'skyblue'
      console.log(input.parentElement)
    }
  </script>
</body>

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/18-2.html

:::

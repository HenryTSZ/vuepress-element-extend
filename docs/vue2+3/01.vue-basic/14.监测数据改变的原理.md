---
title: 监测数据改变的原理
date: 2022-04-23 22:40:07
permalink: /pages/fb68d8/
categories:
  - 系列文章
  - Vue2+Vue3 全套教程笔记
tags:
  -
---

**建议这一小节看原视频 p33-p37**

## [更新时的一个问题](https://www.bilibili.com/video/BV1Zy4y1K7SH?p=33)

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/14-1.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/14-1.html

:::

## [Vue 监测数据改变的原理](https://www.bilibili.com/video/BV1Zy4y1K7SH?p=34)

```
Vue 监视数据的原理：

  1. vue 会监视 data 中所有层次的数据。

  2. 如何监测对象中的数据？
    通过 setter 实现监视，且要在 new Vue 时就传入要监测的数据。
      (1).对象中后追加的属性，Vue 默认不做响应式处理
      (2).如需给后添加的属性做响应式，请使用如下 API：
        Vue.set(target，propertyName/index，value) 或
        vm.$set(target，propertyName/index，value)

  3. 如何监测数组中的数据？
    通过包裹数组更新元素的方法实现，本质就是做了两件事：
      (1).调用原生对应的方法对数组进行更新。
      (2).重新解析模板，进而更新页面。

  4.在 Vue 修改数组中的某个元素一定要用如下方法：
    1.使用这些 API: push()、pop()、shift()、unshift()、splice()、sort()、reverse()
    2.Vue.set() 或 vm.$set()

  特别注意：Vue.set() 和 vm.$set() 不能给 vm 或 vm 的根数据对象 添加属性！！！
```

### 模拟一个数据监测

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/14-2.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/14-2.html

:::

### Vue.set 的使用

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/14-3.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/14-3.html

:::

### Vue 数据监测例子

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/14-4.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/14-4.html

:::

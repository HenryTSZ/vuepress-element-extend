---
title: 侦听属性
date: 2022-04-16 22:34:02
permalink: /630f12/
---

## 天气案例

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/10-1.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/10-1.html

:::

## 侦听属性 watch

```
侦听属性 watch：
  1.当被侦听的属性变化时，回调函数自动调用，进行相关操作
  2.侦听的属性必须存在，才能进行侦听！既可以侦听 data 中的属性，也可以侦听计算属性；但侦听不存在的属性也不报错
  3.配置项属性 immediate: false（默认），改为 true，则初始化时调用一次 handler(newValue,oldValue)
  4.侦听的两种写法：
    (1).new Vue 时传入 watch 配置
    (2).通过 vm.$watch 侦听

深度侦听：
  (1).Vue 中的 watch 默认不监测对象内部值的改变（一层）。
  (2).配置 deep:true 可以监测对象内部值改变（多层）。
  备注：
    (1).Vue 自身可以监测对象内部值的改变，但 Vue 提供的 watch 默认不可以！
    (2).使用 watch 时根据数据的具体结构，决定是否采用深度侦听。

侦听属性简写
  如果侦听属性除了 handler 没有其他配置项的话，可以进行简写
```

## 天气案例\_侦听属性

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/10-2.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/10-2.html

:::

## 深度侦听

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/10-3.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/10-3.html

:::

## 侦听简写

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/10-4.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/10-4.html

:::

## computed 和 watch 之间的区别：

```
computed 和 watch 之间的区别：
  1.computed 能完成的功能，watch 都可以完成。
  2.watch 能完成的功能，computed 不一定能完成，例如：watch 可以进行异步操作。
两个重要的小原则：
  1.所有被 Vue 管理的函数，最好写成普通函数，这样 this 的指向才是 vm 或 组件实例对象。
  2.所有不被 Vue 所管理的函数（定时器的回调函数、ajax 的回调函数等、Promise 的回调函数），最好写成箭头函数，这样 this 的指向才是 vm 或 组件实例对象。
```

:::demo <<< @/docs/vue2+3/01.vue-basic/demo/info.txt

<<< @/docs/vue2+3/01.vue-basic/demo/10-5.vue

:::

:::details 点击查看代码

<<< @/docs/vue2+3/01.vue-basic/demo/10-5.html

:::

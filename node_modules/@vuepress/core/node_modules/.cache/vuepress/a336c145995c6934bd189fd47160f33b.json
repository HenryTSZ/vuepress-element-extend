{"remainingRequest":"/Users/liheng/Documents/workspace/vuepress-element-extend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liheng/Documents/workspace/vuepress-element-extend/docs/.vuepress/components/EditableElements.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liheng/Documents/workspace/vuepress-element-extend/docs/.vuepress/components/EditableElements.vue","mtime":1598686842823},{"path":"/Users/liheng/Documents/workspace/vuepress-element-extend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liheng/Documents/workspace/vuepress-element-extend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGhhbmRsZVBsYWNlaG9sZGVyIH0gZnJvbSAndXRpbHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VkaXRhYmxlRWxlbWVudHMnLAogIGluaGVyaXRBdHRyczogZmFsc2UsCiAgcHJvcHM6IHsKICAgIGl0ZW06IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fQogICAgICB9CiAgICB9LAogICAgbW9kZWw6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7fQogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogWydyYWRpbycsICdjaGVja2JveCddCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdFByb3BzKCkgewogICAgICBjb25zdCBwcm9wcyA9IHRoaXMuaXRlbVtgJHt0aGlzLml0ZW0udHlwZX1Qcm9wc2BdCiAgICAgIGlmICghcHJvcHMpIHJldHVybiB7IGxhYmVsOiAnbGFiZWwnLCB2YWx1ZTogJ3ZhbHVlJyB9CiAgICAgIGNvbnN0IHsgbGFiZWwgPSAnbGFiZWwnLCB2YWx1ZSA9ICd2YWx1ZScsIC4uLnJlc3QgfSA9IHByb3BzCiAgICAgIGNvbnNvbGUubG9nKHsKICAgICAgICBsYWJlbCwKICAgICAgICB2YWx1ZSwKICAgICAgICAuLi5yZXN0CiAgICAgIH0pCiAgICAgIHJldHVybiB7CiAgICAgICAgbGFiZWwsCiAgICAgICAgdmFsdWUsCiAgICAgICAgLi4ucmVzdAogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVQbGFjZWhvbGRlcgogIH0sCiAgZGlyZWN0aXZlczogewogICAgZm9jdXM6IHsKICAgICAgLy8gW3Z1ZSB2LWZvY3VzIHYtc2hvd+aOp+WItmlucHV055qE5pi+56S66IGa54Sm77yM56ys5LqM5qyh5LiN55Sf5pWI6Zeu6aKYX0phdmFTY3JpcHRf5a6j5Z+OLUNTRE7ljZrlrqJdKGh0dHBzOi8vYmxvZy5jc2RuLm5ldC9xcV8zNzM2MTgxMi9hcnRpY2xlL2RldGFpbHMvOTM3ODIzNDApCiAgICAgIC8vIFvpobXpnaLkuIDliLfmlrDorqnmlofmnKzmoYboh6rliqjojrflj5bnhKbngrktLSDlkozoh6rlrprkuYl2LWZvY3Vz5oyH5LukIC0g5piO5pyI5Lq65YCa5qW8IC0g5Y2a5a6i5ZutXShodHRwczovL3d3dy5jbmJsb2dzLmNvbS9Jd2lzaEljb3VsZC9wLzEyMDA2Mzc4Lmh0bWwpCiAgICAgIHVwZGF0ZShlbCwgeyB2YWx1ZSwgb2xkVmFsdWUgfSkgewogICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gb2xkVmFsdWUpIHsKICAgICAgICAgIC8vIOmHjeeCueazqOaEj+i/memHjCDlvZPliY3lhYPntKDmmK8gZGl2ICDmiYDku6XopoHmn6XliLDlrZDlhYPntKDkuK3nmoQgaW5wdXQKICAgICAgICAgIGNvbnN0IGRvbSA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykgfHwgZWwucXVlcnlTZWxlY3RvcigndGV4dGFyZWEnKQogICAgICAgICAgZG9tICYmIGRvbS5mb2N1cygpCiAgICAgICAgfQogICAgICB9LAogICAgICBpbnNlcnRlZChlbCwgeyB2YWx1ZSB9KSB7CiAgICAgICAgaWYgKHZhbHVlKSB7CiAgICAgICAgICAvLyDph43ngrnms6jmhI/ov5nph4wg5b2T5YmN5YWD57Sg5pivIGRpdiAg5omA5Lul6KaB5p+l5Yiw5a2Q5YWD57Sg5Lit55qEIGlucHV0CiAgICAgICAgICBjb25zdCBkb20gPSBlbC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpIHx8IGVsLnF1ZXJ5U2VsZWN0b3IoJ3RleHRhcmVhJykKICAgICAgICAgIGRvbSAmJiBkb20uZm9jdXMoKQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["EditableElements.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditableElements.vue","sourceRoot":"docs/.vuepress/components","sourcesContent":["<!--\n * @Author: HenryTSZ\n * @Date: 2020-05-07 13:30:49\n * @Description:\n * @LastEditors: HenryTSZ\n * @LastEditTime: 2020-08-29 15:36:53\n-->\n<template>\n  <component\n    :is=\"item.component\"\n    v-model=\"model[item.prop]\"\n    :key=\"item.prop\"\n    v-bind=\"item\"\n    v-focus=\"item.focus\"\n    :placeholder=\"item.placeholder || `${handlePlaceholder(item.type)}${item.label}`\"\n    v-on=\"{ ...$listeners, ...item.events }\"\n  >\n    <text-ellipsis v-if=\"item.type === 'info'\" :content=\"model[item.prop]\"></text-ellipsis>\n    <el-option\n      v-for=\"option in item.select\"\n      :key=\"option[listProps.value]\"\n      :value=\"option[listProps.value]\"\n      :label=\"option[listProps.label]\"\n      :disabled=\"option.disabled\"\n    ></el-option>\n    <!-- radio / checkbox 等 -->\n    <template v-if=\"list.includes(item.type)\">\n      <component\n        :is=\"`el-${item.type}`\"\n        v-for=\"ele in item[item.type]\"\n        :key=\"ele[listProps.value]\"\n        :label=\"ele[listProps.value]\"\n        :disabled=\"ele.disabled\"\n      >\n        {{ ele[listProps.label] }}\n      </component>\n    </template>\n    <slot v-for=\"(value, key) in item.slots\" :name=\"key\" :slot=\"key\">{{ value }}</slot>\n  </component>\n</template>\n\n<script>\nimport { handlePlaceholder } from 'utils'\n\nexport default {\n  name: 'EditableElements',\n  inheritAttrs: false,\n  props: {\n    item: {\n      type: Object,\n      default() {\n        return {}\n      }\n    },\n    model: {\n      type: Object,\n      default() {\n        return {}\n      }\n    }\n  },\n  data() {\n    return {\n      list: ['radio', 'checkbox']\n    }\n  },\n  computed: {\n    listProps() {\n      const props = this.item[`${this.item.type}Props`]\n      if (!props) return { label: 'label', value: 'value' }\n      const { label = 'label', value = 'value', ...rest } = props\n      console.log({\n        label,\n        value,\n        ...rest\n      })\n      return {\n        label,\n        value,\n        ...rest\n      }\n    }\n  },\n  methods: {\n    handlePlaceholder\n  },\n  directives: {\n    focus: {\n      // [vue v-focus v-show控制input的显示聚焦，第二次不生效问题_JavaScript_宣城-CSDN博客](https://blog.csdn.net/qq_37361812/article/details/93782340)\n      // [页面一刷新让文本框自动获取焦点-- 和自定义v-focus指令 - 明月人倚楼 - 博客园](https://www.cnblogs.com/IwishIcould/p/12006378.html)\n      update(el, { value, oldValue }) {\n        if (value && value !== oldValue) {\n          // 重点注意这里 当前元素是 div  所以要查到子元素中的 input\n          const dom = el.querySelector('input') || el.querySelector('textarea')\n          dom && dom.focus()\n        }\n      },\n      inserted(el, { value }) {\n        if (value) {\n          // 重点注意这里 当前元素是 div  所以要查到子元素中的 input\n          const dom = el.querySelector('input') || el.querySelector('textarea')\n          dom && dom.focus()\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.editable-elements {\n  .el-select {\n    width: 100%;\n  }\n}\n</style>\n"]}]}